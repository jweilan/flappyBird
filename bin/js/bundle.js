var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var FlappyUI_1 = require("./script/FlappyUI");
var FlappyControll_1 = require("./script/FlappyControll");
var BirdScript_1 = require("./script/BirdScript");
var PipeScript_1 = require("./script/PipeScript");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/FlappyUI.ts", FlappyUI_1.default);
        reg("script/FlappyControll.ts", FlappyControll_1.default);
        reg("script/BirdScript.ts", BirdScript_1.default);
        reg("script/PipeScript.ts", PipeScript_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "flappy.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/BirdScript":4,"./script/FlappyControll":5,"./script/FlappyUI":6,"./script/PipeScript":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏常用信息
 */
var GameData = /** @class */ (function () {
    function GameData() {
        //分数
        this.bestScore = 0;
        //声音开关
        this.isSound = true;
        GameData.instance = this;
        // Laya.LocalStorage.setItem("score","0")
    }
    //得到最好的分数
    GameData.prototype.getBestScore = function (value) {
        var score = Laya.LocalStorage.getItem("score");
        if (+score > value) {
            return score;
        }
        Laya.LocalStorage.setItem("score", value + "");
        return value + "";
    };
    return GameData;
}());
exports.default = GameData;
new GameData();
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FlappyUI_1 = require("./FlappyUI");
/**
 * 小鸟的脚本
 */
var BirdScript = /** @class */ (function (_super) {
    __extends(BirdScript, _super);
    function BirdScript() {
        return _super.call(this) || this;
    }
    BirdScript.prototype.onEnable = function () {
        this._bridRid = this.owner.getComponent(Laya.RigidBody);
        this._bridRid.type = "static";
        this._owner = this.owner;
    };
    BirdScript.prototype.onTriggerEnter = function (other) {
        switch (other.owner.name) {
            case "ground": //碰到土地
                Laya.SoundManager.playSound("flappy/ground-hit.wav", 1);
                break;
            case "pipe": //碰到水管
                Laya.SoundManager.playSound("flappy/pipe-hit.wav", 1);
                break;
        }
        FlappyUI_1.default.instance.gameOvers();
        this._bridRid.type = "static"; //变成静态
        Laya.Tween.to(this._owner, {
            y: 1136
        }, 300, null, Laya.Handler.create(this, this._remove));
    };
    BirdScript.prototype._remove = function () {
        this.owner.removeSelf();
    };
    BirdScript.prototype.onDestroy = function () {
        Laya.Pool.recover("bird", this.owner);
    };
    BirdScript.prototype.onStageClick = function () {
        if (FlappyUI_1.default.instance.controll.state) {
            this._bridRid.setVelocity({ x: 0, y: -10 });
            Laya.SoundManager.playSound("flappy/flap.wav", 1);
            Laya.Tween.to(this._owner, {
                rotation: -30,
            }, 50);
        }
    };
    BirdScript.prototype.onUpdate = function () {
        if (FlappyUI_1.default.instance.controll.state) {
            if (this._owner.rotation < 90) {
                this._owner.rotation += 2;
            }
        }
    };
    return BirdScript;
}(Laya.Script));
exports.default = BirdScript;
},{"./FlappyUI":6}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FlappyUI_1 = require("./FlappyUI");
/**
 * 游戏流程控制脚本
 */
var FlappyControll = /** @class */ (function (_super) {
    __extends(FlappyControll, _super);
    function FlappyControll() {
        var _this = _super.call(this) || this;
        /** @prop {name:interval,tips:"间隔多久产生水管"} */
        _this.interval = 3000;
        /** 上下水管距离 */
        _this.diffcult = 250;
        //开始时间
        _this._time = 0;
        // 水管容器
        _this._pipeBox = [];
        //游戏状态
        _this._state = false;
        return _this;
    }
    Object.defineProperty(FlappyControll.prototype, "state", {
        get: function () {
            return this._state;
        },
        enumerable: true,
        configurable: true
    });
    //开始游戏
    FlappyControll.prototype.start = function () {
        this._reset();
        this._state = true;
        this._birdObj.getComponent(Laya.RigidBody).type = "dynamic";
    };
    //游戏结束
    FlappyControll.prototype.endGame = function () {
        this._reset();
        this._state = false;
    };
    FlappyControll.prototype.onEnable = function () {
        this._GameBox = this.owner.getChildByName("gameBox");
    };
    //生成水管。。
    FlappyControll.prototype._createPipe = function () {
        var position = Math.floor(Math.random() * this.diffcult);
        var topY = -position, bottomY = +this.diffcult + (450 - position);
        console.log(topY, bottomY);
        var pipe1 = Laya.Pool.getItemByCreateFun("pipe", this.Pipe.create, this.Pipe), pipe2 = Laya.Pool.getItemByCreateFun("pipe", this.Pipe.create, this.Pipe);
        pipe1.pos(640, topY);
        pipe2.pos(640, bottomY);
        var top = pipe1.getChildByName("top");
        top.visible = true;
        var bottom = pipe2.getChildByName("bottom");
        bottom.visible = true;
        this._pipeBox.push(pipe1);
        this._pipeBox.push(pipe2);
        this._GameBox.addChild(pipe1);
        this._GameBox.addChild(pipe2);
    };
    //生成小鸟
    FlappyControll.prototype.createBird = function () {
        var bird = Laya.Pool.getItemByCreateFun("bird", this.Brid.create, this.Brid);
        bird.pos(100, 300);
        this._birdObj = bird;
        this._GameBox.addChild(bird);
    };
    //重置
    FlappyControll.prototype._reset = function () {
        for (var i = 0; i < this._pipeBox.length; i++) {
            this._GameBox.removeChild(this._pipeBox[i]);
        }
        this._pipeBox = []; //清空水管
        FlappyUI_1.default.instance.score = 0; //清空分数
    };
    FlappyControll.prototype.onUpdate = function () {
        if (this._state) { //游戏状态为true即开始
            var now = Date.now();
            if (now - this._time > this.interval) {
                this._time = now;
                this._createPipe();
            }
            //更新UI
            FlappyUI_1.default.instance.upDate();
        }
    };
    return FlappyControll;
}(Laya.Script));
exports.default = FlappyControll;
},{"./FlappyUI":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var FlappyControll_1 = require("./FlappyControll");
var GameData_1 = require("../config/GameData");
/**
 *ui界面
 */
var FlappyUI = /** @class */ (function (_super) {
    __extends(FlappyUI, _super);
    function FlappyUI() {
        var _this = _super.call(this) || this;
        //分数
        _this._score = 0;
        FlappyUI.instance = _this;
        return _this;
    }
    Object.defineProperty(FlappyUI.prototype, "score", {
        set: function (value) {
            this._score = value;
        },
        enumerable: true,
        configurable: true
    });
    FlappyUI.prototype.addScore = function (value) {
        this._score += value;
    };
    FlappyUI.prototype.onEnable = function () {
        //获取控制器
        this.controll = this.getComponent(FlappyControll_1.default);
        //显示初始ui
        this.showUI(UIEnum.BEGINUI);
        //1、点击开始
        this.beginStartB.on(Laya.Event.CLICK, this, this.showUI, [UIEnum.TIPSUI]);
        //2、点击提示
        this.tipB.on(Laya.Event.CLICK, this, this.showUI, [UIEnum.START]);
        // 3、游戏进行中
        // 4、游戏结束后的点击开始
        this.reStartB.on(Laya.Event.CLICK, this, this.showUI, [UIEnum.TIPSUI]);
        //加载位图字体
        var bitmap = new Laya.BitmapFont();
        bitmap.loadFont("flappy/fonts/flappyfont/flappyfont.fnt", new Laya.Handler(this, this.onFontLoaded, [bitmap]));
        //声音开关
        this.sound.on(Laya.Event.CLICK, this, this._soundSwitch);
    };
    FlappyUI.prototype._soundSwitch = function () {
        var t = new Laya.Texture();
        if (GameData_1.default.instance.isSound) {
            GameData_1.default.instance.isSound = false;
            Laya.SoundManager.muted = true; //是否静音
            t.load("flappy/10001_2.png");
        }
        else {
            GameData_1.default.instance.isSound = true;
            Laya.SoundManager.muted = false; //是否静音
            t.load("flappy/10001_1.png");
        }
        this.sound.texture = t;
    };
    FlappyUI.prototype.onFontLoaded = function (bitmap) {
        Laya.Text.registerBitmapFont("flappyfont", bitmap);
        this.currScoreTv.font = "flappyfont";
        this.bestScoreTv.font = "flappyfont";
        this.currScore.font = "flappyfont";
    };
    FlappyUI.prototype.showUI = function (cmd) {
        this._hideUI();
        switch (cmd) {
            case UIEnum.BEGINUI:
                this.beginUI.visible = true;
                break;
            case UIEnum.TIPSUI:
                this.tipsUI.visible = true;
                this.controll.createBird();
                break;
            case UIEnum.GAMEOVERUI:
                this.gameoverUI.visible = true;
                this.bestScoreTv.changeText(GameData_1.default.instance.getBestScore(this._score / 2));
                this.currScoreTv.changeText(this._score / 2 + "");
                break;
            case UIEnum.START:
                this.currScore.visible = true;
                this.controll.start();
                break;
        }
    };
    //游戏结束
    FlappyUI.prototype.gameOvers = function () {
        this.showUI(UIEnum.GAMEOVERUI);
        this.controll.endGame();
    };
    //隐藏所有UI
    FlappyUI.prototype._hideUI = function () {
        this.currScore.visible = false;
        this.beginUI.visible = false;
        this.tipsUI.visible = false;
        this.gameoverUI.visible = false;
    };
    //需要实时更新的。。
    FlappyUI.prototype.upDate = function () {
        this.currScore.changeText(this._score / 2 + "");
        //背景
        this.bg.x -= 0.5;
        if (this.bg.x < -640) {
            this.bg.x = 0;
        }
        //陆地
        this.ground.x -= 1;
        if (this.ground.x < -640) {
            this.ground.x = 0;
        }
    };
    return FlappyUI;
}(layaMaxUI_1.ui.flappyUI));
exports.default = FlappyUI;
//场景ui
var UIEnum;
(function (UIEnum) {
    UIEnum[UIEnum["BEGINUI"] = 0] = "BEGINUI";
    UIEnum[UIEnum["TIPSUI"] = 1] = "TIPSUI";
    UIEnum[UIEnum["START"] = 2] = "START";
    UIEnum[UIEnum["GAMEOVERUI"] = 3] = "GAMEOVERUI";
})(UIEnum || (UIEnum = {}));
},{"../config/GameData":3,"../ui/layaMaxUI":8,"./FlappyControll":5}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FlappyUI_1 = require("./FlappyUI");
/**
 * 水管脚本
 */
var PipeScript = /** @class */ (function (_super) {
    __extends(PipeScript, _super);
    function PipeScript() {
        return _super.call(this) || this;
    }
    PipeScript.prototype.onEnable = function () {
        this._owner = this.owner;
    };
    PipeScript.prototype.onUpdate = function () {
        this._owner.x -= 1;
        if (this._owner.x == 100) {
            FlappyUI_1.default.instance.addScore(1);
            Laya.SoundManager.playSound("flappy/score.wav", 1);
        }
        if (this._owner.x <= -100) {
            this.owner.removeSelf();
        }
    };
    return PipeScript;
}(Laya.Script));
exports.default = PipeScript;
},{"./FlappyUI":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var flappyUI = /** @class */ (function (_super) {
        __extends(flappyUI, _super);
        function flappyUI() {
            return _super.call(this) || this;
        }
        flappyUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("flappy");
        };
        return flappyUI;
    }(Scene));
    ui.flappyUI = flappyUI;
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnR3YXJlL0xheWFBaXJJREUyLjA0L3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvY29uZmlnL0dhbWVEYXRhLnRzIiwic3JjL3NjcmlwdC9CaXJkU2NyaXB0LnRzIiwic3JjL3NjcmlwdC9GbGFwcHlDb250cm9sbC50cyIsInNyYy9zY3JpcHQvRmxhcHB5VUkudHMiLCJzcmMvc2NyaXB0L1BpcGVTY3JpcHQudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyw4Q0FBd0M7QUFDeEMsMERBQW9EO0FBQ3BELGtEQUE0QztBQUM1QyxrREFBNEM7QUFDNUM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxrQkFBUSxDQUFDLENBQUM7UUFDbkMsR0FBRyxDQUFDLDBCQUEwQixFQUFDLHdCQUFjLENBQUMsQ0FBQztRQUMvQyxHQUFHLENBQUMsc0JBQXNCLEVBQUMsb0JBQVUsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBQyxvQkFBVSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQW5CTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixx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QUM7UUFDN0IsQ0FBQztRQUNMLGVBQUM7SUFBRCxDQWxCQSxBQWtCQyxDQWxCNkIsS0FBSyxHQWtCbEM7SUFsQlksV0FBUSxXQWtCcEIsQ0FBQTtBQUNMLENBQUMsRUFwQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBb0JmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgRmxhcHB5VUkgZnJvbSBcIi4vc2NyaXB0L0ZsYXBweVVJXCJcbmltcG9ydCBGbGFwcHlDb250cm9sbCBmcm9tIFwiLi9zY3JpcHQvRmxhcHB5Q29udHJvbGxcIlxuaW1wb3J0IEJpcmRTY3JpcHQgZnJvbSBcIi4vc2NyaXB0L0JpcmRTY3JpcHRcIlxuaW1wb3J0IFBpcGVTY3JpcHQgZnJvbSBcIi4vc2NyaXB0L1BpcGVTY3JpcHRcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiZmxhcHB5LnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9GbGFwcHlVSS50c1wiLEZsYXBweVVJKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0ZsYXBweUNvbnRyb2xsLnRzXCIsRmxhcHB5Q29udHJvbGwpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQmlyZFNjcmlwdC50c1wiLEJpcmRTY3JpcHQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvUGlwZVNjcmlwdC50c1wiLFBpcGVTY3JpcHQpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsIi8qKlxyXG4gKiDmuLjmiI/luLjnlKjkv6Hmga9cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVEYXRhe1xyXG4gICAgc3RhdGljIGluc3RhbmNlOkdhbWVEYXRhO1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBHYW1lRGF0YS5pbnN0YW5jZT10aGlzO1xyXG4gICAgICAgIC8vIExheWEuTG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzY29yZVwiLFwiMFwiKVxyXG4gICAgfVxyXG4gICAgLy/liIbmlbBcclxuICAgIGJlc3RTY29yZTpudW1iZXI9MDtcclxuICAgIC8v5aOw6Z+z5byA5YWzXHJcbiAgICBpc1NvdW5kOmJvb2xlYW49dHJ1ZTtcclxuXHJcbiAgICAvL+W+l+WIsOacgOWlveeahOWIhuaVsFxyXG4gICAgZ2V0QmVzdFNjb3JlKHZhbHVlOm51bWJlcik6c3RyaW5ne1xyXG4gICAgICAgdmFyIHNjb3JlPUxheWEuTG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzY29yZVwiKVxyXG4gICAgICAgaWYoK3Njb3JlPnZhbHVlKXtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xyXG4gICAgICAgfVxyXG4gICAgICAgTGF5YS5Mb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNjb3JlXCIsdmFsdWUrXCJcIik7XHJcbiAgICAgICByZXR1cm4gdmFsdWUrXCJcIjtcclxuICAgIH1cclxufVxyXG5cclxubmV3IEdhbWVEYXRhKCk7IiwiaW1wb3J0IEZsYXBweVVJIGZyb20gXCIuL0ZsYXBweVVJXCI7XHJcbi8qKlxyXG4gKiDlsI/puJ/nmoTohJrmnKxcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpcmRTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2JyaWRSaWQ6TGF5YS5SaWdpZEJvZHk7XHJcbiAgICBwcml2YXRlIF9vd25lcjpMYXlhLlNwcml0ZTtcclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9icmlkUmlkPXRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICB0aGlzLl9icmlkUmlkLnR5cGU9XCJzdGF0aWNcIjtcclxuICAgICAgICB0aGlzLl9vd25lcj10aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgfVxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6YW55KTp2b2lke1xyXG4gICAgICAgIHN3aXRjaChvdGhlci5vd25lci5uYW1lKXtcclxuICAgICAgICAgICAgY2FzZSBcImdyb3VuZFwiOi8v56Kw5Yiw5Zyf5ZywXHJcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJmbGFwcHkvZ3JvdW5kLWhpdC53YXZcIiwxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicGlwZVwiOi8v56Kw5Yiw5rC0566hXHJcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJmbGFwcHkvcGlwZS1oaXQud2F2XCIsMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgRmxhcHB5VUkuaW5zdGFuY2UuZ2FtZU92ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fYnJpZFJpZC50eXBlPVwic3RhdGljXCI7Ly/lj5jmiJDpnZnmgIFcclxuICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMuX293bmVyLHtcclxuICAgICAgICAgICAgeToxMTM2XHJcbiAgICAgICAgfSwzMDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy5fcmVtb3ZlKSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9yZW1vdmUoKTp2b2lke1xyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCk6dm9pZHtcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImJpcmRcIix0aGlzLm93bmVyKTtcclxuICAgIH1cclxuICAgIG9uU3RhZ2VDbGljaygpOnZvaWR7XHJcbiAgICAgICAgaWYoRmxhcHB5VUkuaW5zdGFuY2UuY29udHJvbGwuc3RhdGUpe1xyXG4gICAgICAgICAgICB0aGlzLl9icmlkUmlkLnNldFZlbG9jaXR5KHt4OjAseTotMTB9KTtcclxuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwiZmxhcHB5L2ZsYXAud2F2XCIsMSk7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5fb3duZXIse1xyXG4gICAgICAgICAgICAgICAgcm90YXRpb246LTMwLFxyXG4gICAgICAgICAgICB9LDUwKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoKTp2b2lke1xyXG4gICAgICAgIGlmKEZsYXBweVVJLmluc3RhbmNlLmNvbnRyb2xsLnN0YXRlKXtcclxuICAgICAgICAgICAgaWYodGhpcy5fb3duZXIucm90YXRpb248OTApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIucm90YXRpb24rPTI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRmxhcHB5VUkgZnJvbSBcIi4vRmxhcHB5VUlcIjtcclxuLyoqXHJcbiAqIOa4uOaIj+a1geeoi+aOp+WItuiEmuacrFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxhcHB5Q29udHJvbGwgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuXHJcbiAgICAvKiogQHByb3Age25hbWU6QnJpZCx0aXBzOlwi5bCP6bifXCIsdHlwZTpQcmVmYWJ9ICovXHJcbiAgICBCcmlkOkxheWEuUHJlZmFiO1xyXG4gICAgIC8qKiBAcHJvcCB7bmFtZTpQaXBlLHRpcHM6XCLmsLTnrqHpooTliLbku7ZcIix0eXBlOlByZWZhYn0gKi9cclxuICAgIFBpcGU6TGF5YS5QcmVmYWI7XHJcbiAgICAgLyoqIEBwcm9wIHtuYW1lOmludGVydmFsLHRpcHM6XCLpl7TpmpTlpJrkuYXkuqfnlJ/msLTnrqFcIn0gKi9cclxuICAgIHB1YmxpYyBpbnRlcnZhbDpudW1iZXI9MzAwMDsgXHJcbiAgICAvKiog5LiK5LiL5rC0566h6Led56a7ICovXHJcbiAgICBwdWJsaWMgZGlmZmN1bHQ6bnVtYmVyPTI1MDsgXHJcblxyXG4gICAgLy/lvIDlp4vml7bpl7RcclxuICAgIHByaXZhdGUgX3RpbWU6bnVtYmVyPTA7XHJcbiAgICAvLyDmuLjmiI/lrrnlmahcclxuICAgIHByaXZhdGUgX0dhbWVCb3g6TGF5YS5TcHJpdGU7XHJcbiAgICAvLyDmsLTnrqHlrrnlmahcclxuICAgIHByaXZhdGUgX3BpcGVCb3g6YW55PVtdO1xyXG4gICAgLy/muLjmiI/nirbmgIFcclxuICAgIHByaXZhdGUgX3N0YXRlOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBwdWJsaWMgZ2V0IHN0YXRlKCk6Ym9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbiAgICB9XHJcbiAgICAvL+Wwj+m4n1xyXG4gICAgcHJpdmF0ZSBfYmlyZE9iajpMYXlhLlNwcml0ZTtcclxuICAgIC8v5byA5aeL5ri45oiPXHJcbiAgICBzdGFydCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcclxuICAgICAgICB0aGlzLl9zdGF0ZT10cnVlO1xyXG4gICAgICAgIHRoaXMuX2JpcmRPYmouZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KS50eXBlPVwiZHluYW1pY1wiO1xyXG4gICAgfVxyXG4gICAgLy/muLjmiI/nu5PmnZ9cclxuICAgIGVuZEdhbWUoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5fc3RhdGU9ZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fR2FtZUJveD10aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiZ2FtZUJveFwiKSBhcyBMYXlhLlNwcml0ZTtcclxuICAgIH1cclxuICAgIC8v55Sf5oiQ5rC0566h44CC44CCXHJcbiAgICBwcml2YXRlIF9jcmVhdGVQaXBlKCk6dm9pZHtcclxuICAgICAgICB2YXIgcG9zaXRpb246bnVtYmVyPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0aGlzLmRpZmZjdWx0KTtcclxuICAgICAgICB2YXIgdG9wWTpudW1iZXI9LXBvc2l0aW9uLFxyXG4gICAgICAgICAgICBib3R0b21ZPSt0aGlzLmRpZmZjdWx0Kyg0NTAtcG9zaXRpb24pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRvcFksYm90dG9tWSk7XHJcbiAgICAgICAgdmFyIHBpcGUxOkxheWEuU3ByaXRlPUxheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJwaXBlXCIsdGhpcy5QaXBlLmNyZWF0ZSx0aGlzLlBpcGUpLFxyXG4gICAgICAgICAgICBwaXBlMjpMYXlhLlNwcml0ZT1MYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwicGlwZVwiLHRoaXMuUGlwZS5jcmVhdGUsdGhpcy5QaXBlKTtcclxuICAgICAgICBcclxuICAgICAgICBwaXBlMS5wb3MoNjQwLHRvcFkpO1xyXG4gICAgICAgIHBpcGUyLnBvcyg2NDAsYm90dG9tWSk7XHJcblxyXG4gICAgICAgIHZhciB0b3A6TGF5YS5TcHJpdGU9cGlwZTEuZ2V0Q2hpbGRCeU5hbWUoXCJ0b3BcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgICAgIHRvcC52aXNpYmxlPXRydWU7XHJcbiAgICAgICAgdmFyIGJvdHRvbTpMYXlhLlNwcml0ZSA9IHBpcGUyLmdldENoaWxkQnlOYW1lKFwiYm90dG9tXCIpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgICAgICBib3R0b20udmlzaWJsZT10cnVlO1xyXG5cclxuICAgICAgICB0aGlzLl9waXBlQm94LnB1c2gocGlwZTEpO1xyXG4gICAgICAgIHRoaXMuX3BpcGVCb3gucHVzaChwaXBlMik7XHJcbiAgICAgICAgdGhpcy5fR2FtZUJveC5hZGRDaGlsZChwaXBlMSlcclxuICAgICAgICB0aGlzLl9HYW1lQm94LmFkZENoaWxkKHBpcGUyKTtcclxuICAgIH1cclxuICAgIC8v55Sf5oiQ5bCP6bifXHJcbiAgICBwdWJsaWMgY3JlYXRlQmlyZCgpOnZvaWR7XHJcbiAgICAgICAgdmFyIGJpcmQ6TGF5YS5TcHJpdGU9TGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImJpcmRcIix0aGlzLkJyaWQuY3JlYXRlLHRoaXMuQnJpZCk7XHJcbiAgICAgICAgYmlyZC5wb3MoMTAwLDMwMCk7XHJcbiAgICAgICAgdGhpcy5fYmlyZE9iaj1iaXJkO1xyXG4gICAgICAgIHRoaXMuX0dhbWVCb3guYWRkQ2hpbGQoYmlyZCk7XHJcbiAgICB9XHJcbiAgICAvL+mHjee9rlxyXG4gICAgcHJpdmF0ZSBfcmVzZXQoKTp2b2lke1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5fcGlwZUJveC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5fR2FtZUJveC5yZW1vdmVDaGlsZCh0aGlzLl9waXBlQm94W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcGlwZUJveD1bXTsvL+a4heepuuawtOeuoVxyXG4gICAgICAgIEZsYXBweVVJLmluc3RhbmNlLnNjb3JlPTA7Ly/muIXnqbrliIbmlbBcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKCk6dm9pZHtcclxuICAgICAgICBpZih0aGlzLl9zdGF0ZSl7Ly/muLjmiI/nirbmgIHkuLp0cnVl5Y2z5byA5aeLXHJcbiAgICAgICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZihub3cgLSB0aGlzLl90aW1lPnRoaXMuaW50ZXJ2YWwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZT1ub3c7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVQaXBlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/mm7TmlrBVSVxyXG4gICAgICAgICAgICBGbGFwcHlVSS5pbnN0YW5jZS51cERhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEZsYXBweUNvbnRyb2xsIGZyb20gXCIuL0ZsYXBweUNvbnRyb2xsXCI7XHJcbmltcG9ydCBHYW1lRGF0YSBmcm9tIFwiLi4vY29uZmlnL0dhbWVEYXRhXCI7XHJcbi8qKlxyXG4gKnVp55WM6Z2iXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGFwcHlVSSBleHRlbmRzIHVpLmZsYXBweVVJe1xyXG4gICAgLy/muLjmiI/mjqfliLblmahcclxuICAgIHB1YmxpYyBjb250cm9sbDpGbGFwcHlDb250cm9sbDtcclxuICAgIC8v5YiG5pWwXHJcbiAgICBwcml2YXRlIF9zY29yZTpudW1iZXI9MDtcclxuICAgIHB1YmxpYyBzZXQgc2NvcmUodmFsdWUpe1xyXG4gICAgICAgIHRoaXMuX3Njb3JlPXZhbHVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljICBhZGRTY29yZSh2YWx1ZSk6dm9pZHtcclxuICAgICAgICB0aGlzLl9zY29yZSs9dmFsdWU7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6RmxhcHB5VUk7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgRmxhcHB5VUkuaW5zdGFuY2U9dGhpcztcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICAvL+iOt+WPluaOp+WItuWZqFxyXG4gICAgICAgIHRoaXMuY29udHJvbGw9dGhpcy5nZXRDb21wb25lbnQoRmxhcHB5Q29udHJvbGwpO1xyXG4gICAgICAgIC8v5pi+56S65Yid5aeLdWlcclxuICAgICAgICB0aGlzLnNob3dVSShVSUVudW0uQkVHSU5VSSk7XHJcbiAgICAgICAgLy8x44CB54K55Ye75byA5aeLXHJcbiAgICAgICAgdGhpcy5iZWdpblN0YXJ0Qi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5zaG93VUksW1VJRW51bS5USVBTVUldKTtcclxuICAgICAgICAvLzLjgIHngrnlh7vmj5DnpLpcclxuICAgICAgICB0aGlzLnRpcEIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuc2hvd1VJLFtVSUVudW0uU1RBUlRdKTtcclxuICAgICAgICAvLyAz44CB5ri45oiP6L+b6KGM5LitXHJcbiAgICAgICAgLy8gNOOAgea4uOaIj+e7k+adn+WQjueahOeCueWHu+W8gOWni1xyXG4gICAgICAgIHRoaXMucmVTdGFydEIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuc2hvd1VJLFtVSUVudW0uVElQU1VJXSk7XHJcbiAgICAgICAgLy/liqDovb3kvY3lm77lrZfkvZNcclxuICAgICAgICB2YXIgYml0bWFwOkxheWEuQml0bWFwRm9udCA9IG5ldyBMYXlhLkJpdG1hcEZvbnQoKTtcclxuICAgICAgICAgICAgYml0bWFwLmxvYWRGb250KFwiZmxhcHB5L2ZvbnRzL2ZsYXBweWZvbnQvZmxhcHB5Zm9udC5mbnRcIixuZXcgTGF5YS5IYW5kbGVyKHRoaXMsdGhpcy5vbkZvbnRMb2FkZWQsW2JpdG1hcF0pKTtcclxuXHJcbiAgICAgICAgLy/lo7Dpn7PlvIDlhbNcclxuICAgICAgICB0aGlzLnNvdW5kLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLl9zb3VuZFN3aXRjaCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9zb3VuZFN3aXRjaCgpOnZvaWR7XHJcbiAgICAgICB2YXIgdDpMYXlhLlRleHR1cmU9IG5ldyBMYXlhLlRleHR1cmUoKTtcclxuICAgICAgICBpZihHYW1lRGF0YS5pbnN0YW5jZS5pc1NvdW5kKXtcclxuICAgICAgICAgICAgR2FtZURhdGEuaW5zdGFuY2UuaXNTb3VuZD1mYWxzZTtcclxuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIubXV0ZWQ9dHJ1ZTsvL+aYr+WQpumdmemfs1xyXG4gICAgICAgICAgICB0LmxvYWQoXCJmbGFwcHkvMTAwMDFfMi5wbmdcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBHYW1lRGF0YS5pbnN0YW5jZS5pc1NvdW5kPXRydWU7XHJcbiAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLm11dGVkPWZhbHNlOy8v5piv5ZCm6Z2Z6Z+zXHJcbiAgICAgICAgICAgIHQubG9hZChcImZsYXBweS8xMDAwMV8xLnBuZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb3VuZC50ZXh0dXJlPXQ7XHJcbiAgICB9XHJcbiAgICBvbkZvbnRMb2FkZWQoYml0bWFwOkxheWEuQml0bWFwRm9udCk6dm9pZHtcclxuICAgICAgICBMYXlhLlRleHQucmVnaXN0ZXJCaXRtYXBGb250KFwiZmxhcHB5Zm9udFwiLGJpdG1hcCk7XHJcbiAgICAgICAgdGhpcy5jdXJyU2NvcmVUdi5mb250PVwiZmxhcHB5Zm9udFwiO1xyXG4gICAgICAgIHRoaXMuYmVzdFNjb3JlVHYuZm9udD1cImZsYXBweWZvbnRcIjtcclxuICAgICAgICB0aGlzLmN1cnJTY29yZS5mb250PVwiZmxhcHB5Zm9udFwiO1xyXG4gICAgfVxyXG4gICAgc2hvd1VJKGNtZCk6dm9pZHtcclxuICAgICAgICB0aGlzLl9oaWRlVUkoKTtcclxuICAgICAgICBzd2l0Y2goY21kKXtcclxuICAgICAgICAgICAgY2FzZSBVSUVudW0uQkVHSU5VSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmVnaW5VSS52aXNpYmxlPXRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVSUVudW0uVElQU1VJOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50aXBzVUkudmlzaWJsZT10cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbC5jcmVhdGVCaXJkKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBVSUVudW0uR0FNRU9WRVJVSTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZW92ZXJVSS52aXNpYmxlPXRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlc3RTY29yZVR2LmNoYW5nZVRleHQoR2FtZURhdGEuaW5zdGFuY2UuZ2V0QmVzdFNjb3JlKHRoaXMuX3Njb3JlLzIpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VyclNjb3JlVHYuY2hhbmdlVGV4dCh0aGlzLl9zY29yZS8yK1wiXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVUlFbnVtLlNUQVJUOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyU2NvcmUudmlzaWJsZT10cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbC5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5ri45oiP57uT5p2fXHJcbiAgICBnYW1lT3ZlcnMoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc2hvd1VJKFVJRW51bS5HQU1FT1ZFUlVJKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsLmVuZEdhbWUoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8v6ZqQ6JeP5omA5pyJVUlcclxuICAgIHByaXZhdGUgX2hpZGVVSSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5jdXJyU2NvcmUudmlzaWJsZT1mYWxzZTtcclxuICAgICAgICB0aGlzLmJlZ2luVUkudmlzaWJsZT1mYWxzZTtcclxuICAgICAgICB0aGlzLnRpcHNVSS52aXNpYmxlPWZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZW92ZXJVSS52aXNpYmxlPWZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/pnIDopoHlrp7ml7bmm7TmlrDnmoTjgILjgIJcclxuICAgIHVwRGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5jdXJyU2NvcmUuY2hhbmdlVGV4dCh0aGlzLl9zY29yZS8yK1wiXCIpO1xyXG4gICAgICAgIC8v6IOM5pmvXHJcbiAgICAgICAgdGhpcy5iZy54LT0wLjU7XHJcbiAgICAgICAgaWYodGhpcy5iZy54PC02NDApe1xyXG4gICAgICAgICAgICB0aGlzLmJnLng9MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/pmYblnLBcclxuICAgICAgICB0aGlzLmdyb3VuZC54LT0xO1xyXG4gICAgICAgIGlmKHRoaXMuZ3JvdW5kLng8LTY0MCl7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kLng9MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbi8v5Zy65pmvdWlcclxuZW51bSBVSUVudW17XHJcbiAgICBCRUdJTlVJLFxyXG4gICAgVElQU1VJLFxyXG4gICAgU1RBUlQsXHJcbiAgICBHQU1FT1ZFUlVJLFxyXG59IiwiaW1wb3J0IEZsYXBweVVJIGZyb20gXCIuL0ZsYXBweVVJXCI7XHJcbi8qKlxyXG4gKiDmsLTnrqHohJrmnKxcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpcGVTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX293bmVyOkxheWEuU3ByaXRlO1xyXG4gICAgb25FbmFibGUoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuX293bmVyPXRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5fb3duZXIueC09MTtcclxuICAgICAgICBpZih0aGlzLl9vd25lci54PT0xMDApe1xyXG4gICAgICAgICAgICBGbGFwcHlVSS5pbnN0YW5jZS5hZGRTY29yZSgxKTtcclxuICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwiZmxhcHB5L3Njb3JlLndhdlwiLDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLl9vd25lci54PD0tMTAwKXtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aSB7XHJcbiAgICBleHBvcnQgY2xhc3MgZmxhcHB5VUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgYmc6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGdyb3VuZDpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgYmVnaW5VSTpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgYmVnaW5TdGFydEI6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIHRpcHNVSTpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgdGlwQjpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgZ2FtZW92ZXJVSTpMYXlhLlNwcml0ZTtcblx0XHRwdWJsaWMgcmVTdGFydEI6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGJlc3RTY29yZVR2OmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyBjdXJyU2NvcmVUdjpsYXlhLmRpc3BsYXkuVGV4dDtcblx0XHRwdWJsaWMgY3VyclNjb3JlOmxheWEuZGlzcGxheS5UZXh0O1xuXHRcdHB1YmxpYyBzb3VuZDpMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcImZsYXBweVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cciJdfQ==
